"!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof exports?exports.pagelib=t():e.pagelib=t()}(this,function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var a=t[i]={i:i,l:!1,exports:{}};return e[i].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var a in e)n.d(i,a,function(t){return e[t]}.bind(null,a));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=30)}([function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=\"undefined\"!=typeof window&&window.CustomEvent||function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{bubbles:!1,cancelable:!1,detail:void 0},n=document.createEvent(\"CustomEvent\");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n};t.default={matchesSelector:function(e,t){return e.matches?e.matches(t):e.matchesSelector?e.matchesSelector(t):!!e.webkitMatchesSelector&&e.webkitMatchesSelector(t)},querySelectorAll:function(e,t){return Array.prototype.slice.call(e.querySelectorAll(t))},CustomEvent:i}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i,a=n(0),r=(i=a)&&i.__esModule?i:{default:i};var o=function(e,t){var n=void 0;for(n=e.parentElement;n&&!r.default.matchesSelector(n,t);n=n.parentElement);return n};t.default={findClosestAncestor:o,isNestedInTable:function(e){return Boolean(o(e,\"table\"))},closestInlineStyle:function(e,t,n){for(var i=e;i;i=i.parentElement){var a=i.style[t];if(a){if(void 0===n)return i;if(n===a)return i}}},isVisible:function(e){return Boolean(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},copyAttributesToDataAttributes:function(e,t,n){n.filter(function(t){return e.hasAttribute(t)}).forEach(function(n){return t.setAttribute(\"data-\"+n,e.getAttribute(n))})},copyDataAttributesToAttributes:function(e,t,n){n.filter(function(t){return e.hasAttribute(\"data-\"+t)}).forEach(function(n){return t.setAttribute(n,e.getAttribute(\"data-\"+n))})}}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),n(18);var i=o(n(1)),a=o(n(6)),r=o(n(0));function o(e){return e&&e.__esModule?e:{default:e}}var l=a.default.NODE_TYPE,u=\"pagelib_collapse_table_icon\",s=\"pagelib_collapse_table_container\",c=\"pagelib_collapse_table_collapsed_container\",d=\"pagelib_collapse_table_collapsed\",f=\"pagelib_collapse_table_collapsed_bottom\",_=\"pagelib_collapse_table_collapse_text\",p=\"pagelib_collapse_table_expanded\",h=function(e){return e.childNodes&&r.default.querySelectorAll(e,\"a\").length<3},g=function(e){return e&&e.replace(/[\\s0-9]/g,\"\").length>0},m=function(e){var t=e.match(/\\w+/);if(t)return t[0]},v=function(e,t){var n=m(t),i=m(e.textContent);return!(!n||!i)&&n.toLowerCase()===i.toLowerCase()},b=function(e){return e.trim().replace(/\\s/g,\" \")},y=function(e){return e.nodeType===l.ELEMENT_NODE&&\"BR\"===e.tagName},E=function(e,t){t.parentNode.replaceChild(e.createTextNode(\" \"),t)},T=function(e,t,n){if(!h(t))return null;var i=e.createDocumentFragment();i.appendChild(t.cloneNode(!0));var o=i.querySelector(\"th\");r.default.querySelectorAll(o,\".geo, .coordinates, sup.reference, ol, ul, style, script\").forEach(function(e){return e.remove()});var l=Array.prototype.slice.call(o.childNodes);n&&l.filter(a.default.isNodeTypeElementOrText).filter(function(e){return v(e,n)}).forEach(function(e){return e.remove()}),l.filter(y).forEach(function(t){return E(e,t)});var u=o.textContent;return g(u)?b(u):null},S=function(e,t){var n=e.hasAttribute(\"scope\"),i=t.hasAttribute(\"scope\");return n&&i?0:n?-1:i?1:0},w=function(e,t,n){var i=[],a=r.default.querySelectorAll(t,\"th\");a.sort(S);for(var o=0;o<a.length;++o){var l=T(e,a[o],n);if(l&&-1===i.indexOf(l)&&(i.push(l),2===i.length))break}return i},L=function(e,t,n){var i=e.children[0],a=e.children[1],r=e.children[2],o=i.querySelector(\".app_table_collapsed_caption\"),l=\"none\"!==a.style.display;return l?(a.style.display=\"none\",i.classList.remove(d),i.classList.remove(u),i.classList.add(p),o&&(o.style.visibility=\"visible\"),r.style.display=\"none\",t===r&&n&&n(e)):(a.style.display=\"block\",i.classList.remove(p),i.classList.add(d),i.classList.add(u),o&&(o.style.visibility=\"hidden\"),r.style.display=\"block\"),l},A=function(e){var t=this.parentNode;return L(t,this,e)},C=function(e){var t=[\"navbox\",\"vertical-navbox\",\"navbox-inner\",\"metadata\",\"mbox-small\"].some(function(t){return e.classList.contains(t)});return\"none\"!==e.style.display&&!t},P=function(e){return e.classList.contains(\"infobox\")||e.classList.contains(\"infobox_v3\")},k=function(e,t){var n=e.createElement(\"div\");return n.classList.add(c),n.classList.add(p),n.appendChild(t),n},I=function(e,t){var n=e.createElement(\"div\");return n.classList.add(f),n.classList.add(u),n.innerHTML=t||\"\",n},M=function(e,t,n){var i=e.createDocumentFragment(),a=e.createElement(\"strong\");a.innerHTML=t,i.appendChild(a);var r=e.createElement(\"span\");return r.classList.add(_),n.length>0&&r.appendChild(e.createTextNode(\": \"+n[0])),n.length>1&&r.appendChild(e.createTextNode(\", \"+n[1])),n.length>0&&r.appendChild(e.createTextNode(\" â€¦\")),i.appendChild(r),i},O=function(e,t,n,a,r){for(var o=e.querySelectorAll(\"table, .infobox_v3\"),l=0;l<o.length;++l){var u=o[l];if(!i.default.findClosestAncestor(u,\".\"+s)&&C(u)){var c=w(e,u,t);if(c.length||P(u)){var d=M(e,P(u)?n:a,c),f=e.createElement(\"div\");f.className=s,u.parentNode.insertBefore(f,u),u.parentNode.removeChild(u),u.style.marginTop=\"0px\",u.style.marginBottom=\"0px\";var _=k(e,d);_.style.display=\"block\";var p=I(e,r);p.style.display=\"none\",f.appendChild(_),f.appendChild(u),f.appendChild(p),u.style.display=\"none\"}}}},N=function(e){r.default.querySelectorAll(e,\".\"+s).forEach(function(e){L(e)})},x=function(e,t,n,i){var a=function(t){return e.dispatchEvent(new r.default.CustomEvent(\"section-toggled\",{collapsed:t}))};r.default.querySelectorAll(t,\".\"+c).forEach(function(e){e.onclick=function(){var t=A.bind(e)();a(t)}}),r.default.querySelectorAll(t,\".\"+f).forEach(function(e){e.onclick=function(){var t=A.bind(e,i)();a(t)}}),n||N(t)},D=function(e,t,n,i,a,r,o,l,u){i||(O(t,n,r,o,l),x(e,t,a,u))};t.default={SECTION_TOGGLED_EVENT_TYPE:\"section-toggled\",toggleCollapsedForAll:N,toggleCollapseClickCallback:A,collapseTables:function(e,t,n,i,a,r,o,l){D(e,t,n,i,!0,a,r,o,l)},adjustTables:D,prepareTables:O,setupEventHandling:x,expandCollapsedTableIfItContainsElement:function(e){if(e){var t='[class*=\"'+s+'\"]',n=i.default.findClosestAncestor(e,t);if(n){var a=n.firstElementChild;a&&a.classList.contains(p)&&a.click()}}},test:{elementScopeComparator:S,extractEligibleHeaderText:T,firstWordFromString:m,getTableHeaderTextArray:w,shouldTableBeCollapsed:C,isHeaderEligible:h,isHeaderTextEligible:g,isInfobox:P,newCollapsedHeaderDiv:k,newCollapsedFooterDiv:I,newCaptionFragment:M,isNodeTextContentSimilarToPageTitle:v,stringWithNormalizedWhitespace:b,replaceNodeWithBreakingSpaceTextNode:E}}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),n(14);t.default={containerFragment:function(e){var t=e.createDocumentFragment(),n=e.createElement(\"section\");n.id=\"pagelib_footer_container_menu\",n.className=\"pagelib_footer_section\",n.innerHTML=\"<h2 id='pagelib_footer_container_menu_heading'></h2>\\n   <div id='pagelib_footer_container_menu_items'></div>\",t.appendChild(n);var i=e.createElement(\"section\");i.id=\"pagelib_footer_container_readmore\",i.className=\"pagelib_footer_section\",i.innerHTML=\"<h2 id='pagelib_footer_container_readmore_heading'></h2>\\n   <div id='pagelib_footer_container_readmore_pages'></div>\",t.appendChild(i);var a=e.createElement(\"section\");return a.id=\"pagelib_footer_container_legal\",t.appendChild(a),t},isContainerAttached:function(e){return Boolean(e.querySelector(\"#pagelib_footer_container\"))}}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),n(15);t.default={add:function(e,t,n,i,a,r,o){var l=e.querySelector(\"#\"+i),u=t.split(\"$1\");l.innerHTML=\"<div class='pagelib_footer_legal_contents'>\\n    <hr class='pagelib_footer_legal_divider'>\\n    <span class='pagelib_footer_legal_license'>\\n      \"+u[0]+\"\\n      <a class='pagelib_footer_legal_license_link'>\\n        \"+n+\"\\n      </a>\\n      \"+u[1]+\"\\n      <br>\\n      <div class=\\\"pagelib_footer_browser\\\">\\n        <a class='pagelib_footer_browser_link'>\\n          \"+r+\"\\n        </a>\\n      </div>\\n    </span>\\n  </div>\",l.querySelector(\".pagelib_footer_legal_license_link\").addEventListener(\"click\",function(){a()}),l.querySelector(\".pagelib_footer_browser_link\").addEventListener(\"click\",function(){o()})}}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),n(17);var i=function(e,t,n){var i=new RegExp(\"\\\\s?[\"+t+\"][^\"+t+n+\"]+[\"+n+\"]\",\"g\"),a=0,r=e,o=\"\";do{o=r,r=r.replace(i,\"\"),a++}while(o!==r&&a<30);return r},a=function(e){var t=e;return t=i(t,\"(\",\")\"),t=i(t,\"/\",\"/\")},r=function e(t,n,i,a,r){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.title=t,this.displayTitle=n,this.thumbnail=i,this.description=a,this.extract=r},o=function(e,t,n,i,o){var l=[],u=o.getElementById(t);e.forEach(function(e,t){var i=e.titles.normalized;l.push(i);var s=function(e,t,n,i){var r=i.createElement(\"a\");if(r.id=t,r.className=\"pagelib_footer_readmore_page\",e.thumbnail&&e.thumbnail.source){var o=i.createElement(\"div\");o.style.backgroundImage=\"url(\"+e.thumbnail.source+\")\",o.classList.add(\"pagelib_footer_readmore_page_image\"),r.appendChild(o)}var l=i.createElement(\"div\");l.classList.add(\"pagelib_footer_readmore_page_container\"),r.appendChild(l),r.href=\"/wiki/\"+encodeURI(e.title)+\"?event_logging_label=read_more\";var u=void 0;if(e.displayTitle?u=e.displayTitle:e.title&&(u=e.title),u){var s=i.createElement(\"div\");s.id=t,s.className=\"pagelib_footer_readmore_page_title\",s.innerHTML=u.replace(/_/g,\" \"),r.title=e.title.replace(/_/g,\" \"),l.appendChild(s)}var c=void 0;if(e.description&&(c=e.description),(!c||c.length<10)&&e.extract&&(c=a(e.extract)),c){var d=i.createElement(\"div\");d.id=t,d.className=\"pagelib_footer_readmore_page_description\",d.innerHTML=c,l.appendChild(d)}var f=i.createElement(\"div\");return f.id=\"pagelib_footer_read_more_save_\"+encodeURI(e.title),f.className=\"pagelib_footer_readmore_page_save\",f.addEventListener(\"click\",function(t){t.stopPropagation(),t.preventDefault(),n(e.title)}),l.appendChild(f),i.createDocumentFragment().appendChild(r)}(new r(i,e.titles.display,e.thumbnail,e.description,e.extract),t,n,o);u.appendChild(s)}),i(l)},l=function(e){console.log(\"statusText = \"+e)};t.default={add:function(e,t,n,i,a,r,u){!function(e,t,n,i,a,r,o,u){var s=new XMLHttpRequest;s.open(\"GET\",function(e,t,n){return(n||\"\")+\"/page/related/\"+e}(e,0,i),!0),s.onload=function(){if(s.readyState===XMLHttpRequest.DONE)if(200===s.status){var e=JSON.parse(s.responseText).pages,i=void 0;if(e.length>t){var c=Math.floor(Math.random()*Math.floor(e.length-t));i=e.slice(c,c+t)}else i=e;a(i,n,r,o,u)}else l(s.statusText)},s.onerror=function(){return l(s.statusText)};try{s.send()}catch(e){l(e.toString())}}(e,t,n,i,o,a,r,u)},setHeading:function(e,t,n){var i=n.getElementById(t);i.innerText=e,i.title=e},updateSaveButtonForTitle:function(e,t,n,i){var a=i.getElementById(\"pagelib_footer_read_more_save_\"+encodeURI(e));a&&(a.innerText=t,a.title=t,function(e,t){var n=\"pagelib_footer_readmore_bookmark_unfilled\",i=\"pagelib_footer_readmore_bookmark_filled\";e.classList.remove(i,n),e.classList.add(t?i:n)}(a,n))},test:{cleanExtract:a,safelyRemoveEnclosures:i}}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i={ELEMENT_NODE:1,TEXT_NODE:3};t.default={isNodeTypeElementOrText:function(e){return e.nodeType===i.ELEMENT_NODE||e.nodeType===i.TEXT_NODE},NODE_TYPE:i}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),n(19);var i=n(11).default,a=n(1).default,r=n(0).default,o={PLACEHOLDER_CLASS:\"pagelib_lazy_load_placeholder\",PLACEHOLDER_PENDING_CLASS:\"pagelib_lazy_load_placeholder_pending\",PLACEHOLDER_LOADING_CLASS:\"pagelib_lazy_load_placeholder_loading\",PLACEHOLDER_ERROR_CLASS:\"pagelib_lazy_load_placeholder_error\",IMAGE_LOADING_CLASS:\"pagelib_lazy_load_image_loading\",IMAGE_LOADED_CLASS:\"pagelib_lazy_load_image_loaded\"},l=[\"class\",\"style\",\"src\",\"srcset\",\"width\",\"height\",\"alt\",\"usemap\",\"data-file-width\",\"data-file-height\",\"data-image-gallery\"],u={px:50,ex:10,em:5};t.default={CLASSES:o,PLACEHOLDER_CLASS:\"pagelib_lazy_load_placeholder\",queryLazyLoadableImages:function(e){return r.querySelectorAll(e,\"img\").filter(function(e){return function(e){var t=i.from(e);if(!t.width||!t.height)return!0;var n=u[t.widthUnit]||1/0,a=u[t.heightUnit]||1/0;return t.widthValue>=n&&t.heightValue>=a}(e)})},convertImagesToPlaceholders:function(e,t){return t.map(function(t){return function(e,t){var n=e.createElement(\"span\");t.hasAttribute(\"class\")&&n.setAttribute(\"class\",t.getAttribute(\"class\")||\"\"),n.classList.add(\"pagelib_lazy_load_placeholder\"),n.classList.add(\"pagelib_lazy_load_placeholder_pending\");var r=i.from(t);r.width&&n.style.setProperty(\"width\",\"\"+r.width),a.copyAttributesToDataAttributes(t,n,l);var o=e.createElement(\"span\");if(r.width&&r.height){var u=r.heightValue/r.widthValue;o.style.setProperty(\"padding-top\",100*u+\"%\")}return n.appendChild(o),t.parentNode&&t.parentNode.replaceChild(n,t),n}(e,t)})},loadPlaceholder:function(e,t){t.classList.add(\"pagelib_lazy_load_placeholder_loading\"),t.classList.remove(\"pagelib_lazy_load_placeholder_pending\");var n=e.createElement(\"img\"),i=function(e){n.setAttribute(\"src\",n.getAttribute(\"src\")||\"\"),e.stopPropagation(),e.preventDefault()};return n.addEventListener(\"load\",function(){t.removeEventListener(\"click\",i),t.parentNode&&t.parentNode.replaceChild(n,t),n.classList.add(\"pagelib_lazy_load_image_loaded\"),n.classList.remove(\"pagelib_lazy_load_image_loading\")},{once:!0}),n.addEventListener(\"error\",function(){t.classList.add(\"pagelib_lazy_load_placeholder_error\"),t.classList.remove(\"pagelib_lazy_load_placeholder_loading\"),t.addEventListener(\"click\",i)},{once:!0}),a.copyDataAttributesToAttributes(t,n,l),n.classList.add(\"pagelib_lazy_load_image_loading\"),n}}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var a=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this._window=t,this._period=n,this._function=i,this._context=void 0,this._arguments=void 0,this._result=void 0,this._timeout=0,this._timestamp=0}return i(e,null,[{key:\"wrap\",value:function(t,n,i){var a=new e(t,n,i),r=function(){return a.queue(this,arguments)};return r.result=function(){return a.result},r.pending=function(){return a.pending()},r.delay=function(){return a.delay()},r.cancel=function(){return a.cancel()},r.reset=function(){return a.reset()},r}}]),i(e,[{key:\"queue\",value:function(e,t){var n=this;return this._context=e,this._arguments=t,this.pending()||(this._timeout=this._window.setTimeout(function(){n._timeout=0,n._timestamp=Date.now(),n._result=n._function.apply(n._context,n._arguments)},this.delay())),this.result}},{key:\"pending\",value:function(){return Boolean(this._timeout)}},{key:\"delay\",value:function(){return this._timestamp?Math.max(0,this._period-(Date.now()-this._timestamp)):0}},{key:\"cancel\",value:function(){this._timeout&&this._window.clearTimeout(this._timeout),this._timeout=0}},{key:\"reset\",value:function(){this.cancel(),this._result=void 0,this._timestamp=0}},{key:\"result\",get:function(){return this._result}}]),e}();t.default=a},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();n(16);var a,r=n(10),o=(a=r)&&a.__esModule?a:{default:a};var l={languages:1,lastEdited:2,pageIssues:3,disambiguation:4,coordinate:5,talkPage:6},u=function(){function e(t,n,i,a){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.title=t,this.subtitle=n,this.itemType=i,this.clickHandler=a,this.payload=[]}return i(e,[{key:\"iconClass\",value:function(){switch(this.itemType){case l.languages:return\"pagelib_footer_menu_icon_languages\";case l.lastEdited:return\"pagelib_footer_menu_icon_last_edited\";case l.talkPage:return\"pagelib_footer_menu_icon_talk_page\";case l.pageIssues:return\"pagelib_footer_menu_icon_page_issues\";case l.disambiguation:return\"pagelib_footer_menu_icon_disambiguation\";case l.coordinate:return\"pagelib_footer_menu_icon_coordinate\";default:return\"\"}}},{key:\"payloadExtractor\",value:function(){switch(this.itemType){case l.pageIssues:return o.default.collectPageIssuesText;case l.disambiguation:return function(e,t){return o.default.collectDisambiguationTitles(t)};default:return}}}]),e}();t.default={MenuItemType:l,setHeading:function(e,t,n){var i=n.getElementById(t);i.innerText=e,i.title=e},maybeAddItem:function(e,t,n,i,a,r){var o=new u(e,t,n,a),l=o.payloadExtractor();l&&(o.payload=l(r,r.querySelector('section[data-mw-section-id=\"0\"]')),0===o.payload.length)||function(e,t,n){n.getElementById(t).appendChild(function(e,t){var n=t.createElement(\"div\");n.className=\"pagelib_footer_menu_item\";var i=t.createElement(\"a\");if(i.addEventListener(\"click\",function(){e.clickHandler(e.payload)}),n.appendChild(i),e.title){var a=t.createElement(\"div\");a.className=\"pagelib_footer_menu_item_title\",a.innerText=e.title,i.title=e.title,i.appendChild(a)}if(e.subtitle){var r=t.createElement(\"div\");r.className=\"pagelib_footer_menu_item_subtitle\",r.innerText=e.subtitle,i.appendChild(r)}var o=e.iconClass();return o&&n.classList.add(o),t.createDocumentFragment().appendChild(n)}(e,n))}(o,i,r)}}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i,a=n(0),r=(i=a)&&i.__esModule?i:{default:i};var o=function(e,t){if(!t)return[];var n=r.default.querySelectorAll(t,\"table.ambox:not(.ambox-multiple_issues):not(.ambox-notice)\"),i=e.createDocumentFragment();return n.forEach(function(e){return i.appendChild(e.cloneNode(!0))}),r.default.querySelectorAll(i,\".hide-when-compact, .collapsed\").forEach(function(e){return e.remove()}),r.default.querySelectorAll(i,\"td[class*=mbox-text] > *[class*=mbox-text]\")};t.default={collectDisambiguationTitles:function(e){return e?r.default.querySelectorAll(e,'div.hatnote a[href]:not([href=\"\"]):not([redlink=\"1\"])').map(function(e){return e.href}):[]},collectDisambiguationHTML:function(e){return e?r.default.querySelectorAll(e,\"div.hatnote\").map(function(e){return e.innerHTML}):[]},collectPageIssuesHTML:function(e,t){return o(e,t).map(function(e){return e.innerHTML})},collectPageIssuesText:function(e,t){return o(e,t).map(function(e){return e.textContent.trim()})},test:{collectPageIssues:o}}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function a(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}var r=function(){function e(t,n){a(this,e),this._value=Number(t),this._unit=n||\"px\"}return i(e,null,[{key:\"fromElement\",value:function(t,n){return t.style.getPropertyValue(n)&&e.fromStyle(t.style.getPropertyValue(n))||t.hasAttribute(n)&&new e(t.getAttribute(n))||void 0}},{key:\"fromStyle\",value:function(t){var n=t.match(/(-?\\d*\\.?\\d*)(\\D+)?/)||[];return new e(n[1],n[2])}}]),i(e,[{key:\"toString\",value:function(){return isNaN(this.value)?\"\":\"\"+this.value+this.unit}},{key:\"value\",get:function(){return this._value}},{key:\"unit\",get:function(){return this._unit}}]),e}(),o=function(){function e(t,n){a(this,e),this._width=t,this._height=n}return i(e,null,[{key:\"from\",value:function(t){return new e(r.fromElement(t,\"width\"),r.fromElement(t,\"height\"))}}]),i(e,[{key:\"width\",get:function(){return this._width}},{key:\"widthValue\",get:function(){return this._width&&!isNaN(this._width.value)?this._width.value:NaN}},{key:\"widthUnit\",get:function(){return this._width&&this._width.unit||\"px\"}},{key:\"height\",get:function(){return this._height}},{key:\"heightValue\",get:function(){return this._height&&!isNaN(this._height.value)?this._height.value:NaN}},{key:\"heightUnit\",get:function(){return this._height&&this._height.unit||\"px\"}}]),e}();t.default=o},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i={ANDROID:\"pagelib_platform_android\",IOS:\"pagelib_platform_ios\"};t.default={CLASS:i,classify:function(e){var t=e.document.querySelector(\"html\");(function(e){return/android/i.test(e.navigator.userAgent)})(e)&&t.classList.add(i.ANDROID),function(e){return/ipad|iphone|ipod/i.test(e.navigator.userAgent)}(e)&&t.classList.add(i.IOS)},setPlatform:function(e,t){e.querySelector(\"html\").classList.add(t)}}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),n(26);var i=r(n(1)),a=r(n(0));function r(e){return e&&e.__esModule?e:{default:e}}var o={IMAGE_PRESUMES_WHITE_BACKGROUND:\"pagelib_theme_image_presumes_white_background\",DIV_DO_NOT_APPLY_BASELINE:\"pagelib_theme_div_do_not_apply_baseline\"},l={DEFAULT:\"pagelib_theme_default\",DARK:\"pagelib_theme_dark\",SEPIA:\"pagelib_theme_sepia\",BLACK:\"pagelib_theme_black\"},u=new RegExp(\"Kit_(body|socks|shorts|right_arm|left_arm)(.*).png$\"),s=function(e){return!u.test(e.src)&&(!e.classList.contains(\"mwe-math-fallback-image-inline\")&&!i.default.closestInlineStyle(e,\"background\"))};t.default={CONSTRAINT:o,THEME:l,setTheme:function(e,t){var n=e.querySelector(\"html\");for(var i in n.classList.add(t),l)Object.prototype.hasOwnProperty.call(l,i)&&l[i]!==t&&n.classList.remove(l[i])},classifyElements:function(e){a.default.querySelectorAll(e,\"img\").filter(s).forEach(function(e){e.classList.add(o.IMAGE_PRESUMES_WHITE_BACKGROUND)});var t=[\"div.color_swatch div\",'div[style*=\"position: absolute\"]','div.barbox table div[style*=\"background:\"]','div.chart div[style*=\"background-color\"]','div.chart ul li span[style*=\"background-color\"]',\"span.legend-color\",\"div.mw-highlight span\",\"code.mw-highlight span\",\".BrickChartTemplate div\",\".PieChartTemplate div\",\".BarChartTemplate div\",\".StackedBarTemplate td\",\".chess-board div\"].join();a.default.querySelectorAll(e,t).forEach(function(e){return e.classList.add(o.DIV_DO_NOT_APPLY_BASELINE)})}}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=o(n(1)),a=o(n(6)),r=o(n(0));function o(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}var u=function(e){return e.indexOf(\"#cite_note\")>-1},s=function(e){return Boolean(e)&&e.nodeType===Node.TEXT_NODE&&Boolean(e.textContent.match(/^\\s+$/))},c=function(e){var t=e.querySelector(\"a\");return t&&u(t.hash)},d=function(e,t){var n=t.querySelector(\"A\").getAttribute(\"href\").slice(1);return e.getElementById(n)||e.getElementById(decodeURIComponent(n))},f=function(e,t){var n=d(e,t);if(!n)return\"\";var i=e.createDocumentFragment(),o=e.createElement(\"div\");i.appendChild(o);Array.prototype.slice.call(n.childNodes).filter(a.default.isNodeTypeElementOrText).forEach(function(e){return o.appendChild(e.cloneNode(!0))});return r.default.querySelectorAll(o,\"link, style, sup[id^=cite_ref], .mw-cite-backlink\").forEach(function(e){return e.remove()}),o.innerHTML.trim()},_=function(e){return r.default.matchesSelector(e,\".reference, .mw-ref\")?e:i.default.findClosestAncestor(e,\".reference, .mw-ref\")},p=function e(t,n,i,a){l(this,e),this.id=t,this.rect=n,this.text=i,this.html=a},h=function e(t,n){l(this,e),this.href=t,this.text=n},g=function e(t,n){l(this,e),this.selectedIndex=t,this.referencesGroup=n},m=function(e,t){var n=e;do{n=t(n)}while(s(n));return n},v=function(e,t,n){for(var i=e;(i=m(i,t))&&i.nodeType===Node.ELEMENT_NODE&&c(i);)n(i)},b=function(e){return e.previousSibling},y=function(e){return e.nextSibling},E=function(e){var t=[e];return v(e,b,function(e){return t.unshift(e)}),v(e,y,function(e){return t.push(e)}),t};t.default={collectNearbyReferences:function(e,t){var n=t.parentElement,i=E(n),a=i.indexOf(n),r=i.map(function(t){return function(e,t){return new p(_(t).id,t.getBoundingClientRect(),t.textContent,f(e,t))}(e,t)});return new g(a,r)},collectNearbyReferencesAsText:function(e,t){var n=t.parentElement,i=E(n),a=i.indexOf(n),r=i.map(function(e){return function(e,t){return new h(t.querySelector(\"A\").getAttribute(\"href\"),t.textContent)}(0,e)});return new g(a,r)},isCitation:u,test:{adjacentNonWhitespaceNode:m,closestReferenceClassElement:_,collectAdjacentReferenceNodes:v,collectNearbyReferenceNodes:E,collectRefText:f,getRefTextContainer:d,hasCitationLink:c,isWhitespaceTextNode:s,nextSiblingGetter:y,prevSiblingGetter:b}}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});t.default={setPercentage:function(e,t){t&&(e.style[\"-webkit-text-size-adjust\"]=t,e.style[\"text-size-adjust\"]=t)}}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});t.default={setMargins:function(e,t){void 0!==t.top&&(e.style.marginTop=t.top),void 0!==t.right&&(e.style.marginRight=t.right),void 0!==t.bottom&&(e.style.marginBottom=t.bottom),void 0!==t.left&&(e.style.marginLeft=t.left)},setPadding:function(e,t){void 0!==t.top&&(e.style.paddingTop=t.top),void 0!==t.right&&(e.style.paddingRight=t.right),void 0!==t.bottom&&(e.style.paddingBottom=t.bottom),void 0!==t.left&&(e.style.paddingLeft=t.left)}}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),n(24);var i=\"pagelib_dim_images\",a=function(e,t){e.querySelector(\"html\").classList[t?\"add\":\"remove\"](i)},r=function(e){return e.querySelector(\"html\").classList.contains(i)};t.default={CLASS:i,dim:function(e,t){return a(e.document,t)},isDim:function(e){return r(e.document)},dimImages:a,areImagesDimmed:r}},function(e,t,n){},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=u(n(2)),r=u(n(1)),o=u(n(7)),l=u(n(8));function u(e){return e&&e.__esModule?e:{default:e}}var s=[\"scroll\",\"resize\",a.default.SECTION_TOGGLED_EVENT_TYPE],c=100,d=function(){function e(t,n){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this._window=t,this._loadDistanceMultiplier=n,this._placeholders=[],this._registered=!1,this._throttledLoadPlaceholders=l.default.wrap(t,c,function(){return i._loadPlaceholders()})}return i(e,[{key:\"convertImagesToPlaceholders\",value:function(e){var t=o.default.queryLazyLoadableImages(e),n=o.default.convertImagesToPlaceholders(this._window.document,t);this._placeholders=this._placeholders.concat(n),this._register()}},{key:\"collectExistingPlaceholders\",value:function(e){var t=Array.from(e.querySelectorAll(\".\"+o.default.PLACEHOLDER_CLASS));this._placeholders=this._placeholders.concat(t),this._register()}},{key:\"loadPlaceholders\",value:function(){this._throttledLoadPlaceholders()}},{key:\"deregister\",value:function(){var e=this;this._registered&&(s.forEach(function(t){return e._window.removeEventListener(t,e._throttledLoadPlaceholders)}),this._throttledLoadPlaceholders.reset(),this._placeholders=[],this._registered=!1)}},{key:\"_register\",value:function(){var e=this;!this._registered&&this._placeholders.length&&(this._registered=!0,s.forEach(function(t){return e._window.addEventListener(t,e._throttledLoadPlaceholders)}))}},{key:\"_loadPlaceholders\",value:function(){var e=this;this._placeholders=this._placeholders.filter(function(t){var n=!0;return e._isPlaceholderEligibleToLoad(t)&&(o.default.loadPlaceholder(e._window.document,t),n=!1),n}),0===this._placeholders.length&&this.deregister()}},{key:\"_isPlaceholderEligibleToLoad\",value:function(e){return r.default.isVisible(e)&&this._isPlaceholderWithinLoadDistance(e)}},{key:\"_isPlaceholderWithinLoadDistance\",value:function(e){var t=e.getBoundingClientRect(),n=this._window.innerHeight*this._loadDistanceMultiplier;return!(t.top>n||t.bottom<-n)}}]),e}();t.default=d},function(e,t,n){},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});t.default={getSectionOffsets:function(e){return{sections:Array.from(e.querySelectorAll(\"section\")).reduce(function(e,t){var n=t.getAttribute(\"data-mw-section-id\"),i=t&&t.firstElementChild&&t.firstElementChild.querySelector(\".pagelib_edit_section_title\");return n&&parseInt(n)>=1&&e.push({heading:i&&i.innerHTML,id:parseInt(n),yOffset:t.offsetTop}),e},[])}}}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=l(n(3)),a=l(n(4)),r=l(n(9)),o=l(n(5));function l(e){return e&&e.__esModule?e:{default:e}}var u=void 0;t.default={MenuItemType:r.default.MenuItemType,add:function(e,t,n,l,s,c){!1===i.default.isContainerAttached(e)&&e.body.appendChild(i.default.containerFragment(e)),r.default.setHeading(l.menuHeading,\"pagelib_footer_container_menu_heading\",e),n.forEach(function(t){var n=\"\",i=\"\",a=\"\";switch(t){case r.default.MenuItemType.languages:a=\"languages\",n=l.menuLanguagesTitle;break;case r.default.MenuItemType.lastEdited:a=\"lastEdited\",n=l.menuLastEditedTitle,i=l.menuLastEditedSubtitle;break;case r.default.MenuItemType.pageIssues:a=\"pageIssues\",n=l.menuPageIssuesTitle;break;case r.default.MenuItemType.disambiguation:a=\"disambiguation\",n=l.menuDisambiguationTitle;break;case r.default.MenuItemType.coordinate:a=\"coordinate\",n=l.menuCoordinateTitle;break;case r.default.MenuItemType.talkPage:a=\"talkPage\",n=l.menuTalkPageTitle}r.default.maybeAddItem(n,i,t,\"pagelib_footer_container_menu_items\",function(e){u&&u.footerItemSelected(a,e)},e)}),s&&s>0&&(o.default.setHeading(l.readMoreHeading,\"pagelib_footer_container_readmore_heading\",e),o.default.add(t,s,\"pagelib_footer_container_readmore_pages\",c,function(e){u&&u.saveOtherPage(e)},function(e){u&&u.titlesRetrieved(e)},e));a.default.add(e,l.licenseString,l.licenseSubstitutionString,\"pagelib_footer_container_legal\",function(){u&&u.viewLicense()},l.viewInBrowserString,function(){u&&u.viewInBrowser()})},updateReadMoreSaveButtonForTitle:function(e,t,n,i){o.default.updateSaveButtonForTitle(t,n,i,e)},_connectHandlers:function(e){u=e}}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=0;t.default={setScrollTop:function(e){i=e},scrollWithDecorOffset:function(e){window.scrollTo(0,e.parentNode.offsetTop-i)},testing:{getScrollTop:function(){return i}}}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i,a=n(31),r=(i=a)&&i.__esModule?i:{default:i};t.default={c1:r.default}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=c(n(28)),a=c(n(32)),r=c(n(33)),o=c(n(34)),l=c(n(29)),u=c(n(35)),s=c(n(36));function c(e){return e&&e.__esModule?e:{default:e}}t.default={Footer:i.default,InteractionHandling:a.default,Platforms:o.default,PageMods:r.default,Scroller:l.default,Sections:u.default,Themes:s.default}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=u(n(2)),r=u(n(28)),o=u(n(7)),l=u(n(20));function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}var c={LinkClicked:\"link_clicked\",ImageClicked:\"image_clicked\",ReferenceClicked:\"reference_clicked\",EditSection:\"edit_section\",AddTitleDescription:\"add_title_description\",FooterItemSelected:\"footer_item_selected\",SaveOtherPage:\"save_other_page\",ReadMoreTitlesRetrieved:\"read_more_titles_retrieved\",ViewLicense:\"view_license\",ViewInBrowser:\"view_in_browser\"},d=void 0,f=function e(t,n){s(this,e),this.action=t,this.data=n},_=0,p=1,h=2,g=3,m=4,v=function(){function e(t,n){s(this,e),this.target=t,this.href=n}return i(e,[{key:\"type\",value:function(){return l.default.isCitation(this.href)?m:\"IMG\"===this.target.tagName&&(this.target.classList.contains(o.default.CLASSES.IMAGE_LOADED_CLASS)||this.target.classList.contains(o.default.CLASSES.IMAGE_LOADING_CLASS))&&(this.target.closest(\"figure\")||this.target.closest(\"figure-inline\"))?h:\"SPAN\"===this.target.tagName&&this.target.classList.contains(o.default.CLASSES.PLACEHOLDER_CLASS)&&(this.target.closest(\"figure\")||this.target.closest(\"figure-inline\"))?g:this.href?p:_}}]),e}(),b=function(e){d(e)},y=function(e){switch(e.type()){case p:\"#\"===(r=e.href)[0]&&a.default.expandCollapsedTableIfItContainsElement(document.getElementById(r.substring(1))),b(new f(c.LinkClicked,{href:r}));break;case h:i=e.target,b(new f(c.ImageClicked,{src:i.getAttribute(\"src\"),width:i.naturalWidth,height:i.naturalHeight,\"data-file-width\":i.getAttribute(\"data-file-width\"),\"data-file-height\":i.getAttribute(\"data-file-height\")}));break;case g:t=e.target,n=t.parentElement,b(new f(c.ImageClicked,{src:n.getAttribute(\"data-src\"),width:n.getAttribute(\"data-width\"),height:n.getAttribute(\"data-height\"),\"data-file-width\":n.getAttribute(\"data-data-file-width\"),\"data-file-height\":n.getAttribute(\"data-data-file-height\")}));break;case m:!function(e){var t=l.default.collectNearbyReferences(document,e);b(new f(c.ReferenceClicked,t))}(e.target);break;default:return!1}var t,n,i,r;return!0},E=function(e,t){b(new f(c.FooterItemSelected,{itemType:e,payload:t}))},T=function(e){b(new f(c.SaveOtherPage,{title:e}))},S=function(e){b(new f(c.ReadMoreTitlesRetrieved,{titles:e}))},w=function(){b(new f(c.ViewLicense))},L=function(){b(new f(c.ViewInBrowser))};t.default={Actions:c,setInteractionHandler:function(e){d=e,r.default._connectHandlers({footerItemSelected:E,saveOtherPage:T,titlesRetrieved:S,viewLicense:w,viewInBrowser:L}),document.addEventListener(\"click\",function(e){e.preventDefault(),function(e){var t=e.target;if(t){var n=t.closest(\"A\");if(n)if(\"edit_section\"!==n.getAttribute(\"data-action\"))if(\"add_title_description\"!==n.getAttribute(\"data-action\")){var i=n.getAttribute(\"href\");i&&y(new v(t,i))}else b(new f(c.AddTitleDescription));else b(new f(c.EditSection,{sectionId:n.getAttribute(\"data-id\")}))}}(e)},!1)}}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=h(n(21)),a=h(n(22)),r=h(n(2)),o=h(n(23)),l=h(n(3)),u=h(n(4)),s=h(n(9)),c=h(n(5)),d=h(n(25)),f=h(n(12)),_=h(n(29)),p=h(n(13));function h(e){return e&&e.__esModule?e:{default:e}}var g=function(e,t){var n=new d.default(e,2);n.collectExistingPlaceholders(t.body),n.loadPlaceholders(),r.default.setupEventHandling(e,t,!0,_.default.scrollWithDecorOffset)};document.addEventListener(\"DOMContentLoaded\",function(){return g(window,document)}),t.default={onPageLoad:g,setMulti:function(e,t,n){void 0!==t.platform&&f.default.setPlatform(e,t.platform),void 0!==t.theme&&p.default.setTheme(e,t.theme),void 0!==t.dimImages&&o.default.dimImages(e,t.dimImages),void 0!==t.margins&&a.default.setMargins(e.body,t.margins),t.areTablesCollapsed&&r.default.toggleCollapsedForAll(e.body),void 0!==t.scrollTop&&_.default.setScrollTop(t.scrollTop),void 0!==t.textSizeAdjustmentPercentage&&i.default.setPercentage(e.body,t.textSizeAdjustmentPercentage),n instanceof Function&&n()},setTheme:function(e,t,n){p.default.setTheme(e,t),n instanceof Function&&n()},setDimImages:function(e,t,n){o.default.dimImages(e,t),n instanceof Function&&n()},setMargins:function(e,t,n){a.default.setMargins(e.body,t),n instanceof Function&&n()},setScrollTop:function(e,t,n){_.default.setScrollTop(t),n instanceof Function&&n()},setTextSizeAdjustmentPercentage:function(e,t,n){i.default.setPercentage(e.body,t),n instanceof Function&&n()},addFooter:function(e,t,n,i,a,r){!1===l.default.isContainerAttached(e)&&e.body.appendChild(l.default.containerFragment(e)),s.default.setHeading(r.menuHeading,\"pagelib_footer_container_menu_heading\",e),n.forEach(function(t){var n=\"\",i=\"\",a=\"\";switch(t){case s.default.MenuItemType.languages:a=\"languages\",n=r.menuLanguagesTitle;break;case s.default.MenuItemType.lastEdited:a=\"lastEdited\",n=r.menuLastEditedTitle,i=r.menuLastEditedSubtitle;break;case s.default.MenuItemType.pageIssues:a=\"pageIssues\",n=r.menuPageIssuesTitle;break;case s.default.MenuItemType.disambiguation:a=\"disambiguation\",n=r.menuDisambiguationTitle;break;case s.default.MenuItemType.coordinate:a=\"coordinate\",n=r.menuCoordinateTitle;break;case s.default.MenuItemType.talkPage:a=\"talkPage\",n=r.menuTalkPageTitle}s.default.maybeAddItem(n,i,t,\"pagelib_footer_container_menu_items\",function(e){console.log(a+JSON.stringify(e))},e)}),i&&(c.default.setHeading(r.readMoreHeading,\"pagelib_footer_container_readmore_heading\",e),c.default.add(t,a,\"pagelib_footer_container_readmore_pages\",null,function(e){},function(e){},e));u.default.add(e,r.licenseString,r.licenseSubstitutionString,\"pagelib_footer_container_legal\",function(){},r.viewInBrowserString,{})},testing:{getScroller:function(){return _.default}}}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i,a=n(12);var r=((i=a)&&i.__esModule?i:{default:i}).default.CLASS;t.default={ANDROID:r.ANDROID,IOS:r.IOS}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i,a=n(27),r=(i=a)&&i.__esModule?i:{default:i};t.default={getOffsets:r.default.getSectionOffsets}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i,a=n(13);var r=((i=a)&&i.__esModule?i:{default:i}).default.THEME;t.default={DEFAULT:r.DEFAULT,DARK:r.DARK,SEPIA:r.SEPIA,BLACK:r.BLACK}}]).default});\n//# sourceMappingURL=wikimedia-page-library-pcs.js.map"